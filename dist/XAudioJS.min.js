!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).xAudio={})}(this,(function(e){"use strict";e.default=class{constructor(){let e,t,a,d={};this.autoplay=!1,this.loop=!1,this.preload="auto",this.debug=()=>{t=!0,e.style.position="absolute",e.style.zIndex=9999,e.style.display="block",e.style.width="250px",e.style.height="30px",e.setAttribute("controls",!0),document.body.appendChild(e)},this.init=t=>{if(this.loop=t.loop,this.ready=t.ready,this.canplay=t.canplay,this.update=t.update,this.loadedmetadata=t.loadedmetadata,e=i(t),t.src){let d=t.src;a=d,e.src=d;try{e.load()}catch(e){}}},this.play=(t,a)=>{void 0!==t&&this.playNew(t),void 0!==a&&e.setAttribute("autoplay",a),e.play()},this.pause=()=>{e.pause&&e.pause()},this.stop=()=>{try{e.currentTime=0}catch(e){}e.pause&&e.pause()},this.setVolume=this.volume=t=>{e.volume=t},this.setCurrentTime=this.currentTime=(t=0)=>{if(0===t)return 1e3*e.currentTime;e.currentTime()},this.getDuration=this.duration=()=>1e3*e.duration,this.getAudio=this.audio=()=>e,this.getSrc=()=>a,this.getStats=this.stats=()=>!e.paused,this.destroy=()=>{this.stop(),this.ready&&(d.ready=!1,e.removeEventListener("canplaythrough",this.ready)),this.canplay&&(d.canplay=!1,e.removeEventListener("canplay",this.canplay)),this.durationchange&&(d.durationchange=!1,e.removeEventListener("durationchange",this.durationchange)),this.update&&(d.update=!1,e.removeEventListener("update",this.update)),this.ended&&(d.ended=!1,e.removeEventListener("ended",this.ended)),d.loadedmetadata&&(d.loadedmetadata=!1,e.removeEventListener("ended",this.ended))},this.playNew=d=>{t&&console.log(d),s(),a=d;let i=!!e.src;e.src=d;try{i&&e.load()}catch(e){}};const s=()=>{this.ready&&!d.ready&&(d.ready=!0,e.addEventListener("canplaythrough",this.ready,!1)),this.canplay&&!d.canplay&&(d.canplay=!0,e.addEventListener("canplay",this.canplay,!1)),this.durationchange&&!d.durationchange&&(d.durationchange=!0,e.addEventListener("durationchange",this.durationchange,!1)),this.update&&!d.update&&(d.update=!0,e.addEventListener("timeupdate",this.update,!0)),d.loadedmetadata||(d.loadedmetadata=!0,e.addEventListener("loadedmetadata",()=>{t&&console.log(e.duration),this.loadedmetadata&&this.loadedmetadata()},!1)),this.ended&&!d.ended&&(d.ended=!0,e.addEventListener("ended",this.ended,!0))},i=e=>{let t=document.createElement("audio");return e&&e.autoplay&&t.setAttribute("autoplay","true"),e&&e.loop&&t.setAttribute("loop","true"),e&&e.type&&t.setAttribute("type",e.type),e&&t.setAttribute("preload",e.preload),t.style.position="absolute",t.style.zIndex=999,t.style.top="0px",t.style.left="0px",t.style.width="0px",t.style.height="0px",t.style.display="none",document.body.appendChild(t),t}}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=XAudioJS.min.js.map
